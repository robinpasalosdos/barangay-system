import React, { useContext } from "react";
import { NavLink } from "react-router-dom";
import { MainContext } from './context/MainContext';

const SideBar = () => {
    const { setIsAuthenticated, user, setUser } = useContext(MainContext);

    const handleLogout = () => {
        setUser(null);
        setIsAuthenticated(false);
    };

    return (
        <div id="sidebar-container">
            <div id="sidebar">
                <h2>BRGUIDE</h2>
                <ul>
                    <NavLink to="/" end>
                        {({ isActive }) => (
                            <li className={isActive ? 'active' : ''}>
                                <div>
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_483_1304)">
                                    <path d="M8.53905 3.46736C8.49513 3.42563 8.43669 3.40234 8.37591 3.40234C8.31513 3.40234 8.2567 3.42563 8.21277 3.46736L2.78177 8.61979C2.7587 8.64171 2.74035 8.66804 2.72783 8.69719C2.7153 8.72635 2.70886 8.75773 2.7089 8.78942L2.70802 13.6252C2.70802 13.8738 2.80747 14.1123 2.98451 14.2881C3.16155 14.4639 3.40166 14.5627 3.65203 14.5627H6.48701C6.61219 14.5627 6.73225 14.5133 6.82076 14.4254C6.90928 14.3375 6.95901 14.2182 6.95901 14.0939V10.1095C6.95901 10.0474 6.98388 9.98777 7.02813 9.94381C7.07239 9.89986 7.13242 9.87517 7.19501 9.87517H9.55504C9.61763 9.87517 9.67766 9.89986 9.72192 9.94381C9.76618 9.98777 9.79104 10.0474 9.79104 10.1095V14.0939C9.79104 14.2182 9.84077 14.3375 9.92929 14.4254C10.0178 14.5133 10.1379 14.5627 10.263 14.5627H13.0968C13.3472 14.5627 13.5873 14.4639 13.7644 14.2881C13.9414 14.1123 14.0409 13.8738 14.0409 13.6252V8.78942C14.0409 8.75773 14.0345 8.72635 14.0219 8.69719C14.0094 8.66804 13.9911 8.64171 13.968 8.61979L8.53905 3.46736Z" 
                                    fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                    <path d="M15.3053 7.65381L13.0987 5.55732V2.37598C13.0987 2.25166 13.0489 2.13243 12.9604 2.04452C12.8719 1.95661 12.7518 1.90723 12.6267 1.90723H11.2106C11.0855 1.90723 10.9654 1.95661 10.8769 2.04452C10.7884 2.13243 10.7386 2.25166 10.7386 2.37598V3.31348L9.02999 1.69102C8.87009 1.53047 8.63232 1.43848 8.37537 1.43848C8.11931 1.43848 7.88213 1.53047 7.72224 1.69131L1.44752 7.65322C1.26403 7.829 1.24102 8.11816 1.40799 8.30859C1.44992 8.35666 1.50126 8.39575 1.55888 8.42349C1.61651 8.45122 1.67922 8.46703 1.74318 8.46993C1.80715 8.47284 1.87105 8.46278 1.93098 8.44039C1.99092 8.41799 2.04564 8.38371 2.09181 8.33965L8.21312 2.53066C8.25704 2.48894 8.31548 2.46565 8.37626 2.46565C8.43704 2.46565 8.49548 2.48894 8.5394 2.53066L14.6613 8.33965C14.7515 8.42553 14.8723 8.4724 14.9972 8.46998C15.1221 8.46757 15.241 8.41606 15.3277 8.32676C15.5088 8.14043 15.4938 7.83281 15.3053 7.65381Z" 
                                    fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0_483_1304">
                                    <rect width="15.1042" height="15" fill="white" transform="translate(0.822937 0.5)"/>
                                    </clipPath>
                                    </defs>
                                </svg>
                      
                                </div>
                                <span>Dashboard</span>
                            </li>
                        )}
                    </NavLink>
                    {user?.policeClearance && (
                        <NavLink to="/police-clearance">
                            {({ isActive }) => (
                                <li className={isActive ? 'active' : ''}>
                                    <div>
                                        <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M8.14592 6.57439C8.14592 7.65247 7.25344 7.65247 6.77248 7.65247H6.1728V5.61439H6.9264C7.34784 5.61439 8.14592 5.61439 8.14592 6.57439ZM12.7526 5.49823C12.8416 4.40127 13.1594 3.39455 13.72 2.47167L11.5699 0.320312C10.8906 0.905272 10.1174 1.22911 9.24064 1.28639C8.45178 1.36218 7.65816 1.20249 6.96 0.827513C6.22368 1.19423 5.46528 1.34751 4.67456 1.28639C3.85664 1.21311 3.11872 0.923192 2.4576 0.409272L0.30144 2.55967C0.832 3.49578 1.12661 4.4753 1.18528 5.49823C1.2128 5.96927 1.0784 6.61759 0.77696 7.45567C0.6192 7.92031 0.499841 8.32351 0.418561 8.66015C0.343361 8.99455 0.29632 9.26655 0.28064 9.47007C0.26944 10.3632 0.520001 11.1696 1.0336 11.8861C1.43488 12.4093 2.09664 12.9869 3.01568 13.6189C4.02112 14.1309 4.79936 14.4634 5.34432 14.6048L5.79616 14.8147C5.93824 14.8832 6.09056 14.9494 6.2496 15.0218C6.59232 15.2272 6.83328 15.4502 6.96 15.68C7.11552 15.4314 7.3616 15.2141 7.68864 15.0218C7.88499 14.9377 8.07949 14.8493 8.272 14.7568C8.4288 14.688 8.5456 14.6362 8.61344 14.6045C8.76186 14.5328 8.91313 14.4671 9.06688 14.4077C9.25344 14.3344 9.48352 14.2445 9.7584 14.1453C10.2896 13.9568 10.6762 13.7792 10.9219 13.6186C11.8131 12.9866 12.4646 12.4186 12.8794 11.9101C13.4112 11.1904 13.6694 10.3805 13.6576 9.46975C13.6262 9.06207 13.4538 8.40959 13.1405 7.52063C12.8416 6.65535 12.7091 5.98335 12.7526 5.49823ZM8.80064 8.44543C8.29024 8.77951 7.58848 8.77951 7.22208 8.77951H6.21568V11.5334H4.7024V4.46911H6.85056C7.84896 4.46911 8.68384 4.53343 9.26368 5.24031C9.6256 5.69023 9.68672 6.20127 9.68672 6.56447C9.68608 7.38719 9.3472 8.08159 8.80064 8.44543Z" 
                                            fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                        </svg>
                                    </div>
                                    <span>Police Clearance</span>
                                </li>
                            )}
                        </NavLink>
                    )}
                    {user?.warrantBooking && (
                        <NavLink to="/warrant-booking">
                            {({ isActive }) => (
                                <li className={isActive ? 'active' : ''}>
                                    <div>
                                        <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M8.875 9.4425L9.55 12.3525L7 10.815L4.45 12.3525L5.125 9.45L2.875 7.5075L5.845 7.2525L7 4.515L8.155 7.245L11.125 7.5L8.875 9.4425ZM0.25 3.75V8.25C0.25 12.4125 3.13 16.305 7 17.25C10.87 16.305 13.75 12.4125 13.75 8.25V3.75L7 0.75L0.25 3.75Z" 
                                            fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                        </svg>
                                    </div>
                                    <span>Warrant Booking</span>
                                </li>
                            )}
                        </NavLink>
                    )}
                    {user?.rogueDirectory && (
                        <NavLink to="/rogue-directory">
                            {({ isActive }) => (
                                <li className={isActive ? 'active' : ''}>
                                    <div>
                                        <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M2.125 8.49395C2.125 12.4875 5.12762 14.4262 7.01179 15.2486C7.5225 15.4717 7.77821 15.5837 8.5 15.5837V5.66699L2.125 7.79199V8.49395Z" 
                                            fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                            <path opacity="0.5" d="M9.98821 15.2486C11.8724 14.4255 14.875 12.4882 14.875 8.49395V7.79199L8.5 5.66699V15.5837C9.2225 15.5837 9.4775 15.4717 9.98821 15.2486ZM6.26025 1.9872L5.85438 2.12533C3.72442 2.85491 2.65979 3.2197 2.39275 3.60008C2.125 3.98116 2.125 5.11449 2.125 7.37903V7.79199L8.5 5.66699V1.41699C7.92554 1.41699 7.37021 1.60683 6.26025 1.9872Z" 
                                            fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                            <path d="M11.1456 2.12533L10.7397 1.9872C9.62979 1.60683 9.07517 1.41699 8.5 1.41699V5.66699L14.875 7.79199V7.37903C14.875 5.11378 14.875 3.98116 14.6072 3.60008C14.3402 3.2197 13.2756 2.8542 11.1456 2.12533Z" 
                                            fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                        </svg>
                                    </div>
                                    <span>Rogue Directory</span>
                                </li>
                            )}
                        </NavLink>
                    )}
                    {user?.userStatus && (
                        <NavLink to="/user-status">
                            {({ isActive }) => (
                                <li className={isActive ? 'active' : ''}>
                                    <div>
                                        <svg width="11" height="13" viewBox="0 0 11 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M6.75 0.25H1.75C1.41848 0.25 1.10054 0.381696 0.866116 0.616116C0.631696 0.850537 0.5 1.16848 0.5 1.5V11.5C0.5 11.8315 0.631696 12.1495 0.866116 12.3839C1.10054 12.6183 1.41848 12.75 1.75 12.75H9.25C9.58152 12.75 9.89946 12.6183 10.1339 12.3839C10.3683 12.1495 10.5 11.8315 10.5 11.5V4L6.75 0.25ZM9.25 11.5H1.75V1.5H6.125V4.625H9.25V11.5Z" 
                                            fill={isActive ? "#FB991C" : "#FFFFFF"}/>
                                        </svg>
                                    </div>
                                    <span>User Management</span>
                                </li>
                            )}
                        </NavLink>
                    )}
                </ul>

                <h3>TOOLS</h3>
                <ul>
                    <li>
                        <div>
                            <svg width="14" height="16" viewBox="0 0 11 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.75 0.25H1.75C1.41848 0.25 1.10054 0.381696 0.866116 0.616116C0.631696 0.850537 0.5 1.16848 0.5 1.5V11.5C0.5 11.8315 0.631696 12.1495 0.866116 12.3839C1.10054 12.6183 1.41848 12.75 1.75 12.75H9.25C9.58152 12.75 9.89946 12.6183 10.1339 12.3839C10.3683 12.1495 10.5 11.8315 10.5 11.5V4L6.75 0.25ZM9.25 11.5H1.75V1.5H6.125V4.625H9.25V11.5Z" 
                                fill="#FFFFFF"/>
                            </svg>

                        </div>
                        <span>Biometric Search</span>
                    </li>
                </ul>
                <h3>SETTINGS</h3>
                <ul>
                    <li onClick={handleLogout}>
                        <div>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.9999 2C10.2385 2 7.99991 4.23858 7.99991 7C7.99991 7.55228 8.44762 8 8.99991 8C9.55219 8 9.99991 7.55228 9.99991 7C9.99991 5.34315 11.3431 4 12.9999 4H16.9999C18.6568 4 19.9999 5.34315 19.9999 7V17C19.9999 18.6569 18.6568 20 16.9999 20H12.9999C11.3431 20 9.99991 18.6569 9.99991 17C9.99991 16.4477 9.55219 16 8.99991 16C8.44762 16 7.99991 16.4477 7.99991 17C7.99991 19.7614 10.2385 22 12.9999 22H16.9999C19.7613 22 21.9999 19.7614 21.9999 17V7C21.9999 4.23858 19.7613 2 16.9999 2H12.9999Z" fill="#FFFFFF"/>
                                <path d="M13.9999 11C14.5522 11 14.9999 11.4477 14.9999 12C14.9999 12.5523 14.5522 13 13.9999 13V11Z" fill="#FFFFFF"/>
                                <path d="M5.71783 11C5.80685 10.8902 5.89214 10.7837 5.97282 10.682C6.21831 10.3723 6.42615 10.1004 6.57291 9.90549C6.64636 9.80795 6.70468 9.72946 6.74495 9.67492L6.79152 9.61162L6.804 9.59454L6.80842 9.58848C6.80846 9.58842 6.80892 9.58778 5.99991 9L6.80842 9.58848C7.13304 9.14167 7.0345 8.51561 6.58769 8.19098C6.14091 7.86637 5.51558 7.9654 5.19094 8.41215L5.18812 8.41602L5.17788 8.43002L5.13612 8.48679C5.09918 8.53682 5.04456 8.61033 4.97516 8.7025C4.83623 8.88702 4.63874 9.14542 4.40567 9.43937C3.93443 10.0337 3.33759 10.7481 2.7928 11.2929L2.08569 12L2.7928 12.7071C3.33759 13.2519 3.93443 13.9663 4.40567 14.5606C4.63874 14.8546 4.83623 15.113 4.97516 15.2975C5.04456 15.3897 5.09918 15.4632 5.13612 15.5132L5.17788 15.57L5.18812 15.584L5.19045 15.5872C5.51509 16.0339 6.14091 16.1336 6.58769 15.809C7.0345 15.4844 7.13355 14.859 6.80892 14.4122L5.99991 15C6.80892 14.4122 6.80897 14.4123 6.80892 14.4122L6.804 14.4055L6.79152 14.3884L6.74495 14.3251C6.70468 14.2705 6.64636 14.1921 6.57291 14.0945C6.42615 13.8996 6.21831 13.6277 5.97282 13.318C5.89214 13.2163 5.80685 13.1098 5.71783 13H13.9999V11H5.71783Z" fill="#FFFFFF"/>
                            </svg>
                        </div>
                        <span>Log Out</span>
                    </li>
                </ul>
            </div>
        </div>
    );
};

export default SideBar;
